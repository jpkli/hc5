!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";e.a=function(t){var e=t||{},n=e.container||null,a=e.width||200,o=e.height||20,i=e.pos||[0,0],l=e.padding||{left:15,right:15,top:20,bottom:0},c=(e.vmap,e.nolabel||!1),s=e.colors||["#eee","steelblue"],d=e.domain||["min","max"],u=e.format||d3.format(".2s"),p=r++;a-=l.left+l.right,o-=l.top+l.bottom;var f=null===n?new Svg({width:a,height:o,padding:l}):n.svg;f.append("g");null!==n&&("function"==typeof n.append?n.append(f):"function"==typeof n.appendChild?n.appendChild(f):"string"==typeof n&&document.getElementById(n).appendChild(f));d3.scale.linear().domain(function(t,e){for(var n=(t[1]-t[0])/e,r=[],a=t[0];a<=t[1];a+=n)r.push(a);return r.push(t[1]),r}([0,s.length],s.length)).range(s);(function(t){var e=f.append("defs").append("linearGradient").attr("id","gradlegend"+p).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");t.forEach(function(n,r){e.append("stop").attr("offset",r/t.length).attr("stop-color",n)})})(s),f.append("g").append("rect").attr("x",i[0]).attr("y",i[1]).attr("width",a-l.left).attr("height",o).style("fill","url(#gradlegend"+p+")");c||(f.append("text").attr("x",i[0]-5).attr("y",i[1]+o/2+5).style("fill","#222").style("text-anchor","end").text(u(d[0])),f.append("text").attr("x",i[0]+a-l.left+5).attr("y",i[1]+o/2+5).style("fill","#222").style("text-anchor","begin").text(u(d[1])));e.title&&f.append("g").append("text").attr("y",i[1]-l.top).attr("x",i[0]+a/2).attr("dy","1em").style("text-anchor","middle").text(e.title);return f};var r=0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var r=n(3),a=n(0);n.d(e,"colorLegend",function(){return a.a}),e.default=r.a,("object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this).hc5=r.a}.call(e,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.a=function(t){let e=t.layers,n=new Array(e.length);var i=t.config,l=i.width||800,c=i.height||l,d=i.padding||10,u=i.outerRadius||Math.min(l/2,c/2),p=i.innerRadius||Math.min(l/4,c/4),f=i.container||"body",h=i.chartTitle||!1,g=i.colorDomains||[],m=(u-=d)-p-d,y=p,v=e.map(function(t){return t.size}).reduce(function(t,e){return t+e});return e.forEach(function(t,e){var i=y+t.size/v*m,p=.05*i,x=i,b=["min","max"];"link"==t.type?(n[e]=Object(r.a)({container:f,data:t.data,width:l,height:c,colors:t.colors,radius:y,colorDomain:g[e],vmap:t.vmap}),n[e],f=n[e]):"bar"==t.type?(n[e]=Object(o.a)({container:f,data:t.data,innerRadius:y,outerRadius:x,colors:t.colors,colorDomain:g[e],vmap:t.vmap||t.encoding}),y=x+p):"text"==t.type&&(t.container=f,t.radius=y,n[e]=Object(a.a)(s),y=x+p),"text"!==t.type&&t.vmap&&t.legend&&(n[e].colorDomain&&(b=n[e].colorDomain),colorLegend({container:f,colors:t.colors,height:Math.min(50,u/2/layerlayer.length),width:l/2-u/2-4*d,title:t.project+" ("+(t.vmap?t.vmap.color:null)+")",domain:b,pos:[u/2+4*d,2*d+u/2+u/2/(layerlayer.length-1)*si]})),"function"==typeof f.svg.append&&h&&f.svg.append("text").style("font-size","1.1em").style("text-anchor","middle").attr("x",0).attr("y",c/2-15).text(function(t,e){return h})}),n.updateColor=function(t){n.forEach(function(n,r){"text"!==e[r].type&&n.updateColor(t[r])})},n};var r=n(4),a=n(5),o=n(6);n(0)},function(t,e,n){"use strict";e.a=function(t){var e=t||{},n=e.container||"body",r=e.data,a=e.vmap,o=e.width||800,i=e.height||o,l=e.radius||Math.min(o/2,i/2),c=(e.padding,e.colorDomain||null),s=e.colors||["steelblue","red"];e.hover;a.hasOwnProperty("size")||(a.size="count");var d,u,p=r.map(function(t){return t.map(function(t){return t[a.size]})}),f=d3.layout.chord().padding(.1).sortSubgroups(d3.descending).matrix(p),h=[];r.forEach(function(t){t.forEach(function(t){h=h.concat(t[a.color])})}),null===c&&(c=[Math.min.apply(null,h),Math.max.apply(null,h)]);d="function"==typeof s?s:d3.scale.linear().domain([c[0],c[1]]).range(s);if("function"==typeof n.append)u=n;else{var g=Math.min(o/2,i/2);u=d3.select(n).append("svg").attr("width",o).attr("height",i).append("g").attr("transform","translate("+g+","+g+")")}u.append("g").attr("class","chord").selectAll("path").data(f.chords).enter().append("path").attr("class","ribbons").attr("d",d3.svg.chord().radius(l)).style("fill",function(t){var e=r[t.source.index][t.target.index][a.color],n=r[t.target.index][t.source.index][a.color];return d(Math.max(e,n))}).style("stroke","#FFF").style("opacity",1);return f.svg=u,f.colorDomain=c,f.updateColor=function(t){f.colorDomain=t,d.domain(t),d3.selectAll(".ribbons").style("fill",function(t){var e=r[t.source.index][t.target.index][a.color],n=r[t.target.index][t.source.index][a.color];return d(Math.max(e,n))})},f}},function(t,e,n){"use strict";e.a=function(t){var e=t||{},n=e.container||"body",r=e.data,a=e.prefix||"",o=e.radius||200,i=(e.color,e.hover,n.groups());var l=n.svg.append("g").selectAll("groupLabel").data(i).enter().append("g").attr("transform",function(t){return"rotate("+(180*(t.startAngle+(t.endAngle-t.startAngle)/2)/Math.PI-90)+")translate("+(o+5)+",0)"});return l.append("text").style("font-size","0.9em").style("text-anchor","middle").attr("dy",".35em").attr("transform",function(t){var e=t.startAngle+(t.endAngle-t.startAngle)/2;return e>Math.PI/2&&e<1.5*Math.PI?"rotate(270)":"rotate(90)"}).text(function(t,e){return a+r[e]}),l}},function(t,e,n){"use strict";e.a=function(t){var e=t||{},n=e.container||"body",a=e.data,o=e.vmap,i=e.width||800,l=e.height||i,c=e.outerRadius||Math.min(i/2,l/2),s=e.innerRadius||c/4,d=(e.padding,e.domain,e.colorDomain||null),u=e.stats||null,p=e.colors||["white","steelblue"],f=(e.hover,[]);n.groups().forEach(function(t,e){var n=(t.endAngle-t.startAngle)/a[e].length;a[e].forEach(function(e,r){var a=t.startAngle+r*n;e.startAngle=a,e.endAngle=a+n,e.index=t.index}),f=f.concat(a[e])});var h=n.svg,g=h.append("g").attr("transform","translate("+i/2+","+l/2+")"),m=function(){return c},y="function"==typeof p?p:function(){return p[0]};null===u&&(u=Object(r.a)(f,Object.keys(o).map(function(t){return o[t]})));o.color&&"function"!=typeof p&&(null===d&&(u[o.color].max==u[o.color].min&&(u[o.color].max+=1e-6),d=[u[o.color].min,u[o.color].max]),y="function"==typeof p?p:d3.scale.linear().domain(d).range(p));o.size&&(m=d3.scale.pow().exponent(.9).domain([u[o.size].min,u[o.size].max]).range([s,c]));h.append("g").selectAll(".bar").data(f).enter().append("path").attr("class","bars").attr("class","bars").style("fill",function(t){return y(t[o.color])}).style("stroke","#fff").style("stroke-width",.5).attr("d",function(t){return d3.svg.arc().innerRadius(s).outerRadius(m(t[o.size]))(t)});return g.svg=h,g.colorDomain=d,g.updateColor=function(t){g.colorDomain=t,y.domain(t),d3.selectAll(".bars").style("fill",function(t){return y(t[o.color])})},g};var r=n(7)},function(t,e,n){"use strict";e.a=function(t,e){if(!Array.isArray(t))throw new Error("Inproper input data format.");var n={};return e.forEach(function(e){var r=t.map(function(t){return t[e]});n[e]={min:array.min(r),max:array.max(r),avg:array.avg(r),std:array.std(r)}}),n}}]);
//# sourceMappingURL=hc5.min.js.map
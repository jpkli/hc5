!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./index.js")}({"./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no exports provided */function(t,e,n){"use strict";n.r(e),function(t){var e=n(/*! ./src/main */"./src/main.js");("object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||void 0).h5c=e.default}.call(this,n(/*! ./node_modules/webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"./src/chord.js":
/*!**********************!*\
  !*** ./src/chord.js ***!
  \**********************/
/*! exports provided: default */function(t,e,n){"use strict";function r(t){var e=t||{},n=e.container||"body",r=e.data,a=e.vmap,o=e.width||800,i=e.height||o,l=e.radius||Math.min(o/2,i/2),c=(e.padding,e.colorDomain||null),s=e.colors||["steelblue","red"];e.hover;a.hasOwnProperty("size")||(a.size="count");var d,u,f=r.map(function(t){return t.map(function(t){return t[a.size]})}),p=d3.layout.chord().padding(.1).sortSubgroups(d3.descending).matrix(f),h=[];if(r.forEach(function(t){t.forEach(function(t){h=h.concat(t[a.color])})}),null===c&&(c=[Math.min.apply(null,h),Math.max.apply(null,h)]),d="function"==typeof s?s:d3.scale.linear().domain([c[0],c[1]]).range(s),"function"==typeof n.append)u=n;else{var g=Math.min(o/2,i/2);u=d3.select(n).append("svg").attr("width",o).attr("height",i).append("g").attr("transform","translate("+g+","+g+")")}u.append("g").attr("class","chord").selectAll("path").data(p.chords).enter().append("path").attr("class","ribbons").attr("d",d3.svg.chord().radius(l)).style("fill",function(t){var e=r[t.source.index][t.target.index][a.color],n=r[t.target.index][t.source.index][a.color];return d(Math.max(e,n))}).style("stroke","#FFF").style("opacity",1);return p.svg=u,p.colorDomain=c,p.updateColor=function(t){p.colorDomain=t,d.domain(t),d3.selectAll(".ribbons").style("fill",function(t){var e=r[t.source.index][t.target.index][a.color],n=r[t.target.index][t.source.index][a.color];return d(Math.max(e,n))})},p}n.r(e),n.d(e,"default",function(){return r})},"./src/legend.js":
/*!***********************!*\
  !*** ./src/legend.js ***!
  \***********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var r=0;function a(t){var e=t||{},n=e.container||null,a=e.width||200,o=e.height||20,i=e.pos||[0,0],l=e.padding||{left:15,right:15,top:20,bottom:0},c=(e.vmap,e.nolabel||!1),s=e.colors||["#eee","steelblue"],d=e.domain||["min","max"],u=e.format||d3.format(".2s"),f=r++;a-=l.left+l.right,o-=l.top+l.bottom;var p=null===n?new Svg({width:a,height:o,padding:l}):n.svg;p.append("g");null!==n&&("function"==typeof n.append?n.append(p):"function"==typeof n.appendChild?n.appendChild(p):"string"==typeof n&&document.getElementById(n).appendChild(p));d3.scale.linear().domain(function(t,e){for(var n=(t[1]-t[0])/e,r=[],a=t[0];a<=t[1];a+=n)r.push(a);return r.push(t[1]),r}([0,s.length],s.length)).range(s);(function(t){var e=p.append("defs").append("linearGradient").attr("id","gradlegend"+f).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");t.forEach(function(n,r){e.append("stop").attr("offset",r/t.length).attr("stop-color",n)})})(s),p.append("g").append("rect").attr("x",i[0]).attr("y",i[1]).attr("width",a-l.left).attr("height",o).style("fill","url(#gradlegend"+f+")");return c||(p.append("text").attr("x",i[0]-5).attr("y",i[1]+o/2+5).style("fill","#222").style("text-anchor","end").text(u(d[0])),p.append("text").attr("x",i[0]+a-l.left+5).attr("y",i[1]+o/2+5).style("fill","#222").style("text-anchor","begin").text(u(d[1]))),e.title&&p.append("g").append("text").attr("y",i[1]-l.top).attr("x",i[0]+a/2).attr("dy","1em").style("text-anchor","middle").text(e.title),p}},"./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var r=n(/*! ./chord */"./src/chord.js"),a=n(/*! ./text */"./src/text.js"),o=n(/*! ./rect */"./src/rect.js"),i=n(/*! ./legend */"./src/legend.js");function l(t){let e=t.layers,n=new Array(e.length);var l=t.config,c=l.width||800,d=l.height||c,u=l.padding||10,f=l.outerRadius||Math.min(c/2,d/2),p=l.innerRadius||Math.min(c/4,d/4),h=l.container||"body",g=l.chartTitle||!1,m=l.colorDomains||[],y=(f-=u)-p-u,x=p,v=e.map(function(t){return t.size}).reduce(function(t,e){return t+e});return e.forEach(function(t,e){var l=x+t.size/v*y,p=.05*l,b=l,j=["min","max"];"link"==t.type?(n[e]=Object(r.default)({container:h,data:t.data,width:c,height:d,colors:t.colors,radius:x,colorDomain:m[e],vmap:t.vmap}),n[e],h=n[e]):"bar"==t.type?(n[e]=Object(o.default)({container:h,data:t.data,innerRadius:x,outerRadius:b,colors:t.colors,colorDomain:m[e],vmap:t.vmap||t.encoding}),x=b+p):"text"==t.type&&(t.container=h,t.radius=x,n[e]=Object(a.default)(s),x=b+p),"text"!==t.type&&t.vmap&&t.legend&&(n[e].colorDomain&&(j=n[e].colorDomain),Object(i.default)({container:h,colors:t.colors,height:Math.min(50,f/2/layerlayer.length),width:c/2-f/2-4*u,title:t.project+" ("+(t.vmap?t.vmap.color:null)+")",domain:j,pos:[f/2+4*u,2*u+f/2+f/2/(layerlayer.length-1)*si]})),"function"==typeof h.svg.append&&g&&h.svg.append("text").style("font-size","1.1em").style("text-anchor","middle").attr("x",0).attr("y",d/2-15).text(function(t,e){return g})}),n.updateColor=function(t){n.forEach(function(n,r){"text"!==e[r].type&&n.updateColor(t[r])})},n}},"./src/rect.js":
/*!*********************!*\
  !*** ./src/rect.js ***!
  \*********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var r=n(/*! ./stats */"./src/stats.js");function a(t){var e=t||{},n=e.container||"body",a=e.data,o=e.vmap,i=e.width||800,l=e.height||i,c=e.outerRadius||Math.min(i/2,l/2),s=e.innerRadius||c/4,d=(e.padding,e.domain,e.colorDomain||null),u=e.stats||null,f=e.colors||["white","steelblue"],p=(e.hover,[]);n.groups().forEach(function(t,e){var n=(t.endAngle-t.startAngle)/a[e].length;a[e].forEach(function(e,r){var a=t.startAngle+r*n;e.startAngle=a,e.endAngle=a+n,e.index=t.index}),p=p.concat(a[e])});var h=n.svg,g=h.append("g").attr("transform","translate("+i/2+","+l/2+")"),m=function(){return c},y="function"==typeof f?f:function(){return f[0]};null===u&&(u=Object(r.default)(p,Object.keys(o).map(function(t){return o[t]}))),o.color&&"function"!=typeof f&&(null===d&&(u[o.color].max==u[o.color].min&&(u[o.color].max+=1e-6),d=[u[o.color].min,u[o.color].max]),y="function"==typeof f?f:d3.scale.linear().domain(d).range(f)),o.size&&(m=d3.scale.pow().exponent(.9).domain([u[o.size].min,u[o.size].max]).range([s,c]));h.append("g").selectAll(".bar").data(p).enter().append("path").attr("class","bars").attr("class","bars").style("fill",function(t){return y(t[o.color])}).style("stroke","#fff").style("stroke-width",.5).attr("d",function(t){return d3.svg.arc().innerRadius(s).outerRadius(m(t[o.size]))(t)});return g.svg=h,g.colorDomain=d,g.updateColor=function(t){g.colorDomain=t,y.domain(t),d3.selectAll(".bars").style("fill",function(t){return y(t[o.color])})},g}},"./src/stats.js":
/*!**********************!*\
  !*** ./src/stats.js ***!
  \**********************/
/*! exports provided: default */function(t,e,n){"use strict";function r(t,e){if(!Array.isArray(t))throw new Error("Inproper input data format.");var n={};return e.forEach(function(e){var r=t.map(function(t){return t[e]});n[e]={min:array.min(r),max:array.max(r),avg:array.avg(r),std:array.std(r)}}),n}n.r(e),n.d(e,"default",function(){return r})},"./src/text.js":
/*!*********************!*\
  !*** ./src/text.js ***!
  \*********************/
/*! exports provided: default */function(t,e,n){"use strict";function r(t){var e=t||{},n=e.container||"body",r=e.data,a=e.prefix||"",o=e.radius||200,i=(e.color,e.hover,n.groups());var l=n.svg.append("g").selectAll("groupLabel").data(i).enter().append("g").attr("transform",function(t){return"rotate("+(180*(t.startAngle+(t.endAngle-t.startAngle)/2)/Math.PI-90)+")translate("+(o+5)+",0)"});return l.append("text").style("font-size","0.9em").style("text-anchor","middle").attr("dy",".35em").attr("transform",function(t){var e=t.startAngle+(t.endAngle-t.startAngle)/2;return e>Math.PI/2&&e<1.5*Math.PI?"rotate(270)":"rotate(90)"}).text(function(t,e){return a+r[e]}),l}n.r(e),n.d(e,"default",function(){return r})}});
//# sourceMappingURL=hc5.min.js.map
{"version":3,"sources":["webpack:///webpack/bootstrap 68e8270c83f017279d38","webpack:///./src/colorlegend.js","webpack:///./index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/main.js","webpack:///./src/chord.js","webpack:///./src/text.js","webpack:///./src/rect.js","webpack:///./src/stats.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","arg","option","container","width","height","pos","padding","left","right","top","bottom","noLabel","vmap","nolabel","colors","domain","format","d3","gradientID","gradID","legend","Svg","svg","append","appendChild","document","getElementById","scale","linear","step","res","push","linearDomain","length","range","gradient","attr","forEach","linearGradient","style","text","title","__WEBPACK_IMPORTED_MODULE_0__src_main__","self","global","this","hc5","g","Function","eval","e","window","spec","layers","rings","Array","config","outerRadius","Math","min","innerRadius","chartTitle","colorDomains","cirRange","cirOffset","cirSize","map","layer","size","reduce","a","b","li","sectionRadiusRange","cirPadding","sectionRadius","colorDomain","type","__WEBPACK_IMPORTED_MODULE_0__chord__","data","radius","__WEBPACK_IMPORTED_MODULE_2__rect__","encoding","__WEBPACK_IMPORTED_MODULE_1__text__","colorLegend","layerlayer","project","color","si","updateColor","ring","ri","options","hover","colorScale","matrix","rows","row","chord","layout","sortSubgroups","descending","colorValues","concat","apply","max","offset","select","selectAll","chords","enter","send","source","index","target","recv","prefix","groups","groupLabel","startAngle","endAngle","PI","stats","dataItems","ci","delta","di","start","bars","getSize","getColor","__WEBPACK_IMPORTED_MODULE_0__stats__","keys","k","pow","exponent","arc","fields","isArray","Error","result","f","array","avg","std"],"mappings":"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","file":"hc5.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 68e8270c83f017279d38","var gradID = 0;\nexport default function colorLegend(arg){\n    var option = arg || {},\n        container = option.container || null,\n        width = option.width || 200,\n        height = option.height || 20,\n        pos = option.pos ||[0, 0],\n        padding = option.padding || {left: 15, right: 15, top: 20, bottom: 0},\n        vmap = option.vmap || {},\n        noLabel = option.nolabel || false,\n        colors = option.colors || ['#eee', 'steelblue'],\n        domain = option.domain || ['min', 'max'],\n        format = option.format || d3.format(\".2s\");\n\n    var gradientID = gradID++;\n\n    width -= padding.left + padding.right;\n    height -= padding.top + padding.bottom;\n\n    var legend = (container === null) ? new Svg({width: width, height: height, padding: padding}) : container.svg,\n        rect = legend.append(\"g\");\n\n    if(container !== null){\n        if(typeof container.append === 'function')\n            container.append(legend);\n        else if(typeof container.appendChild === 'function')\n            container.appendChild(legend);\n        else if(typeof container === 'string')\n            document.getElementById(container).appendChild(legend);\n    }\n\n    function linearDomain(domain, n){\n        var step = (domain[1] - domain[0])/(n),\n            res = [];\n        for(var i = domain[0]; i<=domain[1]; i+=step) {\n            res.push(i);\n        }\n\n        res.push(domain[1]);\n        return res;\n    }\n\n    var colorScale = d3.scale.linear().domain(linearDomain([0, colors.length], colors.length)).range(colors);\n\n    function linearGradient(colors) {\n        var gradient = legend.append(\"defs\")\n            .append(\"linearGradient\")\n                .attr(\"id\", \"gradlegend\"+gradientID)\n                .attr(\"x1\", \"0%\")\n                .attr(\"x2\", \"100%\")\n                .attr(\"y1\", \"0%\")\n                .attr(\"y2\", \"0%\");\n\n        colors.forEach(function(c, i){\n            gradient.append(\"stop\")\n                .attr(\"offset\", i / colors.length )\n                .attr(\"stop-color\", c);\n        });\n        return gradient;\n    }\n\n    var grad = linearGradient(colors);\n\n    var rect = legend.append(\"g\");\n\n    var colorScale = rect.append(\"rect\")\n        .attr(\"x\", pos[0])\n        .attr(\"y\", pos[1])\n        .attr(\"width\", width-padding.left)\n        .attr(\"height\", height)\n        .style(\"fill\",\"url(#gradlegend\" + gradientID + \")\");\n\n    if(!noLabel) {\n        legend.append(\"text\")\n            .attr(\"x\", pos[0] - 5)\n            .attr(\"y\", pos[1] + height/2 + 5)\n            .style(\"fill\", \"#222\")\n            .style(\"text-anchor\", 'end')\n            // .style(\"font-size\", \".9em\")\n            .text(format(domain[0]));\n\n        legend.append(\"text\")\n            .attr(\"x\", pos[0] + width - padding.left + 5)\n            .attr(\"y\", pos[1] + height/2 + 5)\n            .style(\"fill\", \"#222\")\n            .style(\"text-anchor\", 'begin')\n            // .style(\"font-size\", \".9em\")\n            .text(format(domain[1]));\n    }\n\n\n    if(option.title) {\n        legend.append(\"g\")\n            .append(\"text\")\n            .attr(\"y\", pos[1] - padding.top)\n            .attr(\"x\", pos[0] + width/2)\n            .attr(\"dy\", \"1em\")\n            .style(\"text-anchor\", \"middle\")\n            .text(option.title);\n    }\n\n    return legend;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/colorlegend.js\n// module id = 0\n// module chunks = 0 1","import hc5 from './src/main';\n\nexport default hc5;\nexport {default as colorLegend} from './src/colorlegend';\n\nvar root = typeof self == 'object' && self.self === self && self ||\n           typeof global == 'object' && global.global === global && global ||\n           this;\n\nroot.hc5 = hc5;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 1\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 2\n// module chunks = 0 1","import chord  from './chord';\nimport textLabel  from './text';\nimport rect   from './rect';\nimport colorlegend from './colorlegend';\n\nexport default function hc5(spec) {\n    let layers = spec.layers;\n    let rings = new Array(layers.length);\n\n    var config = spec.config,\n        width = config.width || 800,\n        height = config.height || width,\n        padding = config.padding || 10,\n        outerRadius = config.outerRadius || Math.min(width/2, height/2),\n        innerRadius = config.innerRadius || Math.min(width/4, height/4),\n        container = config.container || \"body\",\n        parentRing = container,\n        chartTitle = config.chartTitle || false,\n        colorDomains = config.colorDomains || [];\n\n    outerRadius -= padding;\n\n    var cirRange = outerRadius - innerRadius - padding,\n        cirOffset = innerRadius,\n        sectionRadius = cirOffset,\n        cirSize = layers\n            .map(function(layer){ return layer.size; })\n            .reduce(function(a,b){return a+b;});\n\n    layers.forEach(function(layer, li){\n        var sectionRadiusRange =  cirOffset + layer.size / cirSize * cirRange,\n            cirPadding = 0.05 * sectionRadiusRange,\n            sectionRadius = sectionRadiusRange,\n            colorDomain = ['min', 'max'];\n\n        if(layer.type == 'link') {\n            rings[li] = chord({\n                container: container,\n                data: layer.data,\n                width: width,\n                height: height,\n                colors: layer.colors,\n                radius: cirOffset,\n                colorDomain: colorDomains[li],\n                vmap: layer.vmap,\n            });\n            parentRing = rings[li];\n            container = rings[li];\n        }\n        else if(layer.type == 'bar') {\n            rings[li] = rect({\n                container: container,\n                data: layer.data,\n                innerRadius: cirOffset,\n                outerRadius: sectionRadius,\n                colors: layer.colors,\n                colorDomain: colorDomains[li],\n                vmap: layer.vmap || layer.encoding,\n            });\n            cirOffset = sectionRadius + cirPadding;\n        } else if(layer.type == 'text') {\n            layer.container = container;\n            layer.radius = cirOffset;\n            rings[li] = textLabel(s);\n            cirOffset = sectionRadius + cirPadding ;\n        }\n\n        if(layer.type !== 'text' && layer.vmap) {\n            if(layer.legend) {\n                if(rings[li].colorDomain) colorDomain = rings[li].colorDomain;\n                colorLegend({\n                    container: container,\n                    colors: layer.colors,\n                    height: Math.min(50, outerRadius/2 / layerlayer.length) ,\n                    width: width/2 - outerRadius / 2 - padding * 4,\n                    title: layer.project + ' (' + ((layer.vmap) ? layer.vmap.color : null) + ')',\n                    domain: colorDomain,\n                    pos: [outerRadius/2 + padding*4, padding*2 + outerRadius/2 + outerRadius/2 / (layerlayer.length-1) * si]\n                })\n            }\n        }\n\n        if(typeof container.svg.append == 'function' && chartTitle) {\n            container.svg.append(\"text\")\n                .style(\"font-size\", \"1.1em\")\n                .style(\"text-anchor\", \"middle\")\n                .attr(\"x\", 0)\n                .attr(\"y\", height/2 - 15)\n                .text(function(d, i) { return  chartTitle });\n        }\n    })\n\n    rings.updateColor = function(colorDomains) {\n        rings.forEach(function(ring, ri){\n\n            if(layers[ri].type !== 'text') {\n\n                ring.updateColor(colorDomains[ri]);\n            }\n        })\n    }\n    return rings;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.js\n// module id = 3\n// module chunks = 0 1","export default function Chord(arg) {\n    var options = arg || {},\n        container = options.container || \"body\",\n        data = options.data,\n        vmap = options.vmap,\n        width = options.width || 800,\n        height = options.height || width,\n        radius = options.radius || Math.min(width/2, height/2),\n        padding = options.padding || 0.1,\n        colorDomain = options.colorDomain || null,\n        colors = options.colors || ['steelblue', 'red'],\n        hover = options.hover || function(d) {};\n\n    if(!vmap.hasOwnProperty(\"size\"))\n        vmap.size = 'count';\n\n    var matrix = data.map(function(rows){\n        return rows.map(function(row){\n            return row[vmap.size];\n        });\n    });\n\n    var chord = d3.layout.chord()\n        .padding( 0.1)\n        .sortSubgroups(d3.descending)\n        .matrix(matrix);\n\n    var colorValues = [];\n\n    data.forEach(function(rows){\n        rows.forEach(function(row){\n            colorValues = colorValues.concat(row[vmap.color]);\n        });\n    });\n\n    if(colorDomain === null) {\n        colorDomain = [Math.min.apply(null, colorValues), Math.max.apply(null, colorValues)];\n    }\n\n    var colorScale;\n\n    if(typeof colors == 'function') {\n        colorScale = colors;\n    } else {\n        colorScale = d3.scale.linear()\n            .domain([colorDomain[0], colorDomain[1]])\n            .range(colors);\n    }\n\n    var svg;\n    if(typeof container.append === 'function') {\n        svg = container;\n    } else {\n        var offset = Math.min((width / 2), (height / 2))\n        svg = d3.select(container).append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .append(\"g\")\n                .attr(\"transform\", \"translate(\" + offset + \",\" + offset + \")\");\n    }\n\n    var core = svg.append(\"g\")\n        .attr(\"class\", \"chord\")\n        .selectAll(\"path\")\n        .data(chord.chords)\n        .enter();\n\n    var ribbons = core.append(\"path\").attr(\"class\", \"ribbons\")\n        .attr(\"d\", d3.svg.chord().radius(radius))\n        .style(\"fill\", function(d){\n            var send = data[d.source.index][d.target.index][vmap.color];\n            var recv =  data[d.target.index][d.source.index][vmap.color];\n            return colorScale(Math.max(send, recv));\n        })\n        .style(\"stroke\", \"#FFF\")\n        .style(\"opacity\", 1);\n\n    chord.svg = svg;\n    chord.colorDomain = colorDomain;\n    chord.updateColor = function(colorDomain) {\n        chord.colorDomain = colorDomain;\n        colorScale.domain(colorDomain);\n        d3.selectAll('.ribbons').style(\"fill\", function(d){\n            var send = data[d.source.index][d.target.index][vmap.color];\n            var recv =  data[d.target.index][d.source.index][vmap.color];\n            return colorScale(Math.max(send, recv));\n        })\n    }\n    return chord;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/chord.js\n// module id = 4\n// module chunks = 0 1","export default function Text(arg) {\n    var options = arg || {},\n        container = options.container || \"body\",\n        data = options.data,\n        prefix = options.prefix || '',\n        radius = options.radius || 200,\n        color = options.color || '#000000',\n        hover = options.hover || function(d) {};\n\n    var chords = container.groups();\n    // chords.forEach(function(chord, ci){\n    //\n    //     data[ci].startAngle = chord.startAngle\n    //     data[ci].endAngle = chord.endAngle;\n    //     data[ci].index = chord.index;\n    // })\n\n    function textTransofrm(d) {\n        var offset = (d.startAngle + (d.endAngle - d.startAngle)/2);\n        return (offset > Math.PI/2 && offset < 1.5*Math.PI) ? \"rotate(270)\" :\"rotate(90)\";\n    }\n\n    function textRotate(d) {\n        var offset = (d.startAngle + (d.endAngle - d.startAngle)/2);\n        return \"rotate(\" + ( offset * 180 / Math.PI - 90)\n            + \")translate(\" + (radius+5) + \",0)\";\n    }\n\n    var groupLabel = container.svg.append(\"g\").selectAll(\"groupLabel\")\n            .data(chords)\n            .enter().append(\"g\")\n            .attr(\"transform\", textRotate);\n\n    groupLabel.append(\"text\")\n        .style(\"font-size\", \"0.9em\")\n        .style(\"text-anchor\", \"middle\")\n        .attr(\"dy\", \".35em\")\n        .attr(\"transform\",  textTransofrm)\n        .text(function(d, i) { return  prefix + data[i]; });\n\n    return groupLabel;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/text.js\n// module id = 5\n// module chunks = 0 1","import getStats from './stats';\n\nexport default function bars(arg) {\n    var options = arg || {},\n        container = options.container || \"body\",\n        data = options.data,\n        vmap = options.vmap,\n        width = options.width || 800,\n        height = options.height || width,\n        outerRadius = options.outerRadius || Math.min(width/2, height/2),\n        innerRadius = options.innerRadius || outerRadius / 4,\n        padding = options.padding || 0.05,\n        domain = options.domain || null,\n        colorDomain = options.colorDomain || null,\n        stats = options.stats || null,\n        colors = options.colors || ['white', 'steelblue'],\n        hover = options.hover || function(d) {};\n\n    var chords = container.groups();\n    var dataItems = [];\n    chords.forEach(function(chord, ci){\n        var delta = (chord.endAngle - chord.startAngle ) / data[ci].length;\n        data[ci].forEach(function(d, di){\n            var start =  chord.startAngle + di*delta;\n            d.startAngle = start;\n            d.endAngle = start + delta;\n            d.index = chord.index;\n        })\n        dataItems = dataItems.concat(data[ci]);\n    })\n\n    var svg = container.svg;\n\n    var bars = svg.append(\"g\")\n        .attr(\"transform\", \"translate(\" + (width / 2) + \",\" + (height / 2) + \")\");\n\n    var getSize = function() { return outerRadius; },\n        getColor = (typeof colors === 'function') ? colors : function() { return colors[0]};\n\n    if(stats === null) {\n        stats = getStats(dataItems, Object.keys(vmap).map(function(k){ return vmap[k]; }));\n    }\n\n    if(vmap.color && typeof(colors) != 'function') {\n\n        if(colorDomain === null) {\n            if(stats[vmap.color].max == stats[vmap.color].min) stats[vmap.color].max+=0.000001;\n            colorDomain = [stats[vmap.color].min, stats[vmap.color].max];\n        }\n\n        if(typeof colors == 'function') {\n            getColor = colors;\n        } else {\n            getColor =  d3.scale.linear()\n                .domain(colorDomain)\n                .range(colors);\n        }\n    }\n\n    if(vmap.size) {\n        getSize =  d3.scale.pow().exponent(0.9)\n            .domain([stats[vmap.size].min, stats[vmap.size].max])\n            .range([innerRadius, outerRadius]);\n    }\n\n    function createArc(d) {\n        return d3.svg.arc()\n            .innerRadius(innerRadius)\n            .outerRadius(getSize(d[vmap.size]))\n            (d);\n    }\n\n    var ring = svg.append(\"g\").selectAll(\".bar\")\n\n        .data(dataItems)\n        .enter()\n\n    var marks = ring.append(\"path\").attr(\"class\", \"bars\")\n        .attr('class', 'bars')\n        .style(\"fill\", function(d) { return getColor(d[vmap.color]); })\n        // .style(\"stroke\", function(d) { return getColor(d[vmap.color]); })\n        .style(\"stroke\", '#fff')\n        .style(\"stroke-width\", 0.5)\n        // .style(\"fill-opacity\", function(d){return getOpacity(d[opacityAttr])})\n        .attr(\"d\", createArc)\n        // .on(\"mouseover\", highlight)\n        // .on(\"mouseout\", unhighlight);\n    // visualElement\n    //     .style(\"stroke\", '#fff')\n    //     .style(\"stroke-width\", 0.5);\n    bars.svg = svg;\n    bars.colorDomain = colorDomain;\n    bars.updateColor = function(colorDomain) {\n        bars.colorDomain = colorDomain;\n        getColor.domain(colorDomain);\n        d3.selectAll(\".bars\").style(\"fill\", function(d) { return getColor(d[vmap.color]); })\n    }\n\n    return bars;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rect.js\n// module id = 6\n// module chunks = 0 1","export default function stats(data, fields){\n\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = {\n            min: array.min(a),\n            max: array.max(a),\n            avg: array.avg(a),\n            std: array.std(a)\n        };\n    });\n\n    return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/stats.js\n// module id = 7\n// module chunks = 0 1"],"sourceRoot":""}